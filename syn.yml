# Specify Global Variables
clockPeriod: &CLK_PERIOD "20.0ns"
clockPeriodby5: &CLK_PERIOD_BY_5 "4.0" # currently unused; can be used for pin delays if desired

# Adams Bridge source files (relative to asic_project_sp25/)
verilogSrc: &VERILOG_SRC
  - "src/adams_bridge/abr_top/rtl/abr_config_defines.svh"
  - "src/adams_bridge/abr_top/rtl/abr_params_pkg.sv"
  - "src/adams_bridge/abr_top/rtl/abr_reg_pkg.sv"

  - "src/adams_bridge/abr_libs/rtl/abr_sva.svh"
  - "src/adams_bridge/abr_libs/rtl/abr_macros.svh"
  - "src/adams_bridge/abr_libs/rtl/abr_1r1w_ram.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_1r1w_be_ram.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_1r1w_512x4_ram.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_ram_regout.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_icg.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_2ff_sync.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_piso_multi.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_piso.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_sample_buffer.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_msg_buffer.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_ahb_defines_pkg.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_ahb_slv_sif.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_masked_AND.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_delay_masked_shares.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_masked_add_sub_mod_Boolean.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_masked_MUX.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_masked_N_bit_Boolean_sub.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_masked_full_adder.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_masked_A2B_conv.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_masked_N_bit_Boolean_adder.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_masked_N_bit_Arith_adder.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_masked_B2A_conv.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_masked_N_bit_mult.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_masked_N_bit_mult_two_share.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_adder.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_add_sub_mod.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_ntt_add_sub_mod.sv"
  - "src/adams_bridge/abr_libs/rtl/abr_masked_OR.sv"

  - "src/adams_bridge/abr_sampler_top/rtl/abr_sampler_pkg.sv"

  - "src/adams_bridge/rej_bounded/rtl/rej_bounded_ctrl.sv"
  - "src/adams_bridge/rej_bounded/rtl/rej_bounded2.sv"

  - "src/adams_bridge/rej_sampler/rtl/rej_sampler_ctrl.sv"
  - "src/adams_bridge/rej_sampler/rtl/rej_sampler.sv"

  - "src/adams_bridge/exp_mask/rtl/exp_mask_ctrl.sv"
  - "src/adams_bridge/exp_mask/rtl/exp_mask.sv"

  - "src/adams_bridge/sample_in_ball/rtl/sample_in_ball_pkg.sv"
  - "src/adams_bridge/sample_in_ball/rtl/sib_mem.sv"
  - "src/adams_bridge/sample_in_ball/rtl/sample_in_ball_ctrl.sv"
  - "src/adams_bridge/sample_in_ball/rtl/sample_in_ball_shuffler.sv"
  - "src/adams_bridge/sample_in_ball/rtl/sample_in_ball.sv"

  - "src/adams_bridge/cbd_sampler/rtl/cbd_sampler_ctrl.sv"
  - "src/adams_bridge/cbd_sampler/rtl/cbd_sampler.sv"

  - "src/adams_bridge/abr_sha3/rtl/abr_sha3_pkg.sv"

  - "src/adams_bridge/abr_prim/rtl/abr_prim_util_pkg.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_alert_pkg.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_subreg_pkg.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_mubi_pkg.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_cipher_pkg.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_pkg.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_sparse_fsm_pkg.sv"

  - "src/adams_bridge/abr_prim_generic/rtl/abr_prim_generic_flop_en.sv"
  - "src/adams_bridge/abr_prim_generic/rtl/abr_prim_generic_flop.sv"
  - "src/adams_bridge/abr_prim_generic/rtl/abr_prim_generic_buf.sv"

  - "src/adams_bridge/abr_prim/rtl/abr_prim_flop_en.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_cdc_rand_delay.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_flop_2sync.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_lfsr.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_mubi4_sync.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_diff_decode.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_sec_anchor_buf.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_slicer.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_count.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_sparse_fsm_flop.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_dom_and_2share.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_sec_anchor_flop.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_reg_we_check.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_packer_fifo.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_max_tree.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_subreg_arb.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_subreg.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_intr_hw.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_onehot_check.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_mubi8_sync.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_fifo_sync_cnt.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_buf.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_alert_receiver.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_flop.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_alert_sender.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_fifo_sync.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_arbiter_ppc.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_sum_tree.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_subreg_ext.sv"
  - "src/adams_bridge/abr_prim/rtl/abr_prim_edge_detector.sv"

  - "src/adams_bridge/abr_sha3/rtl/abr_keccak_round.sv"
  - "src/adams_bridge/abr_sha3/rtl/abr_keccak_2share.sv"
  - "src/adams_bridge/abr_sha3/rtl/abr_sha3pad.sv"
  - "src/adams_bridge/abr_sha3/rtl/abr_sha3.sv"

  - "src/adams_bridge/abr_sampler_top/rtl/abr_sampler_top.sv"

  - "src/adams_bridge/ntt_top/rtl/ntt_defines_pkg.sv"

  - "src/adams_bridge/barrett_reduction/rtl/barrett_reduction.sv"
  - "src/adams_bridge/barrett_reduction/rtl/masked_barrett_if_cond.sv"
  - "src/adams_bridge/barrett_reduction/rtl/masked_barrett_reduction.sv"
  - "src/adams_bridge/barrett_reduction/rtl/masked_barrett_if_cond_v2.sv"

  - "src/adams_bridge/ntt_top/rtl/ntt_butterfly2x2.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_butterfly.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_mult_dsp.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_mult_reduction.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_special_adder.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_masked_special_adder.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_masked_mult_redux46.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_div2.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_buffer.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_shuffle_buffer.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_twiddle_lookup.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_ctrl.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_top.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_masked_BFU_add_sub.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_mlkem_masked_BFU_add_sub.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_masked_BFU_mult.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_mlkem_masked_BFU_mult.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_masked_gs_butterfly.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_mlkem_masked_gs_butterfly.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_masked_pwm.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_masked_butterfly1x2.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_mlkem_masked_butterfly1x2.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_hybrid_butterfly_2x2.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_karatsuba_pairwm.sv"
  - "src/adams_bridge/ntt_top/rtl/ntt_masked_pairwm.sv"

  - "src/adams_bridge/decompose/rtl/decompose_defines_pkg.sv"
  - "src/adams_bridge/decompose/rtl/decompose.sv"
  - "src/adams_bridge/decompose/rtl/decompose_r1_lut.sv"
  - "src/adams_bridge/decompose/rtl/decompose_w1_mem.sv"
  - "src/adams_bridge/decompose/rtl/decompose_mod_2gamma2.sv"
  - "src/adams_bridge/decompose/rtl/decompose_ctrl.sv"
  - "src/adams_bridge/decompose/rtl/decompose_w1_encode.sv"
  - "src/adams_bridge/decompose/rtl/decompose_usehint.sv"

  - "src/adams_bridge/sk_decode/rtl/skdecode_defines_pkg.sv"
  - "src/adams_bridge/sk_encode/rtl/skencode.sv"
  - "src/adams_bridge/sk_decode/rtl/skdecode_top.sv"
  - "src/adams_bridge/sk_decode/rtl/skdecode_ctrl.sv"
  - "src/adams_bridge/sk_decode/rtl/skdecode_s1s2_unpack.sv"
  - "src/adams_bridge/sk_decode/rtl/skdecode_t0_unpack.sv"

  - "src/adams_bridge/makehint/rtl/makehint_defines_pkg.sv"
  - "src/adams_bridge/makehint/rtl/hintgen.sv"
  - "src/adams_bridge/makehint/rtl/makehint.sv"

  - "src/adams_bridge/norm_check/rtl/norm_check_defines_pkg.sv"
  - "src/adams_bridge/norm_check/rtl/norm_check.sv"
  - "src/adams_bridge/norm_check/rtl/norm_check_ctrl.sv"
  - "src/adams_bridge/norm_check/rtl/norm_check_top.sv"

  - "src/adams_bridge/sig_encode_z/rtl/sigencode_z_defines_pkg.sv"
  - "src/adams_bridge/sig_encode_z/rtl/sigencode_z_top.sv"
  - "src/adams_bridge/sig_encode_z/rtl/sigencode_z_unit.sv"

  - "src/adams_bridge/sigdecode_h/rtl/sigdecode_h_defines_pkg.sv"
  - "src/adams_bridge/sigdecode_h/rtl/sigdecode_h.sv"
  - "src/adams_bridge/sigdecode_h/rtl/sigdecode_h_ctrl.sv"

  - "src/adams_bridge/sig_decode_z/rtl/sigdecode_z_defines_pkg.sv"
  - "src/adams_bridge/sig_decode_z/rtl/sigdecode_z_top.sv"
  - "src/adams_bridge/sig_decode_z/rtl/sigdecode_z_unit.sv"

  - "src/adams_bridge/pk_decode/rtl/pkdecode.sv"

  - "src/adams_bridge/power2round/rtl/power2round_defines_pkg.sv"
  - "src/adams_bridge/power2round/rtl/power2round_top.sv"
  - "src/adams_bridge/power2round/rtl/power2round_ctrl.sv"
  - "src/adams_bridge/power2round/rtl/power2round_core.sv"
  - "src/adams_bridge/power2round/rtl/power2round_skencode.sv"

  - "src/adams_bridge/compress/rtl/compress_defines_pkg.sv"
  - "src/adams_bridge/compress/rtl/compress_top.sv"
  - "src/adams_bridge/compress/rtl/compress.sv"
  - "src/adams_bridge/compress/rtl/compress_ctrl.sv"

  - "src/adams_bridge/decompress/rtl/decompress_defines_pkg.sv"
  - "src/adams_bridge/decompress/rtl/decompress_top.sv"
  - "src/adams_bridge/decompress/rtl/decompress.sv"
  - "src/adams_bridge/decompress/rtl/decompress_ctrl.sv"

  - "src/adams_bridge/abr_top/rtl/abr_ctrl_pkg.sv"
  - "src/adams_bridge/abr_top/rtl/abr_mem_if.sv"
  - "src/adams_bridge/abr_top/rtl/abr_mem_top.sv"
  - "src/adams_bridge/abr_top/rtl/abr_seq.sv"
  - "src/adams_bridge/abr_top/rtl/abr_ctrl.sv"
  - "src/adams_bridge/abr_top/rtl/abr_top.sv"
  - "src/adams_bridge/abr_top/rtl/abr_reg.sv"
  # NOTE: we intentionally do NOT include tb:
  # - "src/adams_bridge/abr_top/tb/abr_top_tb.sv"

# Specify clock signals (clk is your top-level clock)
vlsi.inputs.clocks: [
  {name: "clk", period: *CLK_PERIOD, uncertainty: "0.1ns"}
]

# Optional: you can add vlsi.inputs.delays here if you want I/O timing constraints.
# For now it's omitted to avoid referencing non-existent ports.

# Synthesis Constraints
synthesis.inputs:
  top_module: "abr_top"
  input_files: *VERILOG_SRC

# --------------------------------------------------------------------
# Genus-specific synthesis tweaks
# --------------------------------------------------------------------
synthesis.genus:
  # Disable automatic integrated clock gating because our Sky130 SCL
  # library doesnâ€™t provide the required ICG cells.
  # This avoids POPT-10 / POPT-78 spam.
  additional_tcl_cmds:
    - "set_db / .lp_insert_clock_gating false"
    - "set_db / .lp_power_optimizer_enable false"

